<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Padel Tournament Viewer</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<style>
body { background: #f8f9fa; font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; }
h1,h2 { text-align:center; margin:20px 0; }
.card { border-radius: 1rem; box-shadow:0 2px 8px rgba(0,0,0,0.08); }
.team-badge { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:10px; font-weight:600; color:#fff; }
.team-A { background:#304d6d; }
.team-B { background:#a67045; }
.team-C { background:#a2ce3c; }
.team-D { background:#198754; }
.team-E { background:#d68a30; }
table th { background:#212529; color:#fff; }
@media (max-width:576px) { table th, table td { font-size:0.85rem; padding:4px; } }
.rules { font-size:0.95rem; background:#fff; border-radius:12px; padding:10px; box-shadow:0 1px 5px rgba(0,0,0,0.1); margin-bottom:15px; }
</style>
</head>
<body>
<div class="container my-3">
<h1>üèÜ Padel Tournament</h1>

<div class="rules">
<h5>Rules:</h5>
<ul>
<li><b>Round-robin</b>: All 5 teams play each other once.</li>
<li><b>15 points match</b>. First team to reach 15+gamepoint will win.</li>
<li><b>Top 2</b> teams qualify for finals.</li>
<li><b>In case of same number of wins</b>: ranking will be deccided based on points difference </li>
<li><b>Points Difference: </b>Total points scored - Total points conceded </li>
<li><b>In case of same points differencce</b>: Head to head match result + points difference between teams will decide the ranking.</li>
</ul>
</div>

<h2>Fixtures</h2>
<div id="fixtures" class="row gy-3"></div>

<h2>Standings</h2>
<div class="table-responsive">
<table id="standings" class="table table-bordered table-striped table-sm"></table>
</div>
<!--
<h2>Playoffs</h2>
<div id="playoffs" class="row gy-3"></div>

<h2>Final Standings</h2>
<div class="table-responsive">
<table id="finalStandings" class="table table-bordered table-striped table-sm"></table>
</div>
-->
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
<script>
// üîë Replace with your Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyDYvq9eXpYplV4qp65G106LJfHaBoPF23o",
  authDomain: "pedalschedule.firebaseapp.com",
  databaseURL: "https://pedalschedule-default-rtdb.firebaseio.com",
  projectId: "pedalschedule",
  storageBucket: "pedalschedule.firebasestorage.app",
  messagingSenderId: "46444074383",
  appId: "1:46444074383:web:4351f250d95fac4378a7fa",
  measurementId: "G-14CKBVRF1L"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.database();

function teamBadge(name){
const map={"Fawad & AR":"team-A","Rauf & Saqib":"team-B","Usman & Atif":"team-C","Mohsin & Imad":"team-D","Hanan & Ahmed":"team-E"};
const cls=map[name]||"bg-secondary"; return `<span class="team-badge ${cls}"><i class="bi bi-people-fill"></i>${name}</span>`;
}

// ---- Render functions ----
function renderFixtures(data){
const container=document.getElementById("fixtures"); container.innerHTML="";
data.forEach(f=>{

const col=document.createElement("div"); col.className="col-12";
col.innerHTML=`<div class="card p-3">${teamBadge(f.teamA)} <span class="mx-1">vs</span> ${teamBadge(f.teamB)} <br> Winner: ${f.winner||"-"} | Score: ${f.scoreA}-${f.scoreB}</div>`;
container.appendChild(col);
});
}

function renderStandings(data){
const tbl=document.getElementById("standings");
tbl.innerHTML="<tr><th>Rank</th><th>Team</th><th>W</th><th>L</th><th>Pts</th><th>PF</th><th>PA</th></tr>";
data.forEach((t,i)=>{tbl.innerHTML+=`<tr><td>${i+1}</td><td>${teamBadge(t.team)}</td><td>${t.wins}</td><td>${t.losses}</td><td>${t.points}</td><td>${t.pointsFor}</td><td>${t.pointsAgainst}</td></tr>`});
}

function renderPlayoffs(data){
const container=document.getElementById("playoffs"); container.innerHTML="";
data.forEach(p=>{
const col=document.createElement("div"); col.className="col-12";
col.innerHTML=`<div class="card p-3"><b>${p.stage}</b>: ${teamBadge(p.team1)} vs ${teamBadge(p.team2)} | Winner: ${p.winner||"-"} | Score: ${p.score1}-${p.score2}</div>`;
container.appendChild(col);
});
}

function renderFinalStandings(data){
const tbl=document.getElementById("finalStandings");
tbl.innerHTML="<tr><th>Rank</th><th>Team</th></tr>";
data.forEach(r=>{tbl.innerHTML+=`<tr><td>${r.rank}</td><td>${teamBadge(r.team)}</td></tr>`});
}

// ---- Live Listeners ----
db.ref("fixtures").on("value", s=>renderFixtures(s.val()||[]));
db.ref("standings").on("value", s=>renderStandings(s.val()||[]));
//db.ref("playoffs").on("value", s=>renderPlayoffs(s.val()||[]));
//db.ref("finalStandings").on("value", s=>renderFinalStandings(s.val()||[]));
</script>
</body>
</html>
